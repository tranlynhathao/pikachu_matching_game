#include "Lib.h"
#include "Struct.h"
#include "Check.h"
#include "Undo.h"
#include "Draw board and pokemon.h"
#include "ReadFile.h"
#include "Move Suggest and Delete.h"
#include "Array.h"
#include "Game Mode.h"

// Game menu
void menuGame()
{
	int cursor = 1; // cursor to move 
	char cursorCommand = NULL; // get key press
	do
	{
		system("cls");
		HANDLE color = GetStdHandle(STD_OUTPUT_HANDLE);
		SetConsoleTextAttribute(color, 0x03);
		cout << "WELCOME TO PIKACHUUUUU !!!!!" << endl;
		SetConsoleTextAttribute(color, 0x07);
		print_pokemon(cursor); // print menu
		cursorCommand = _getch();
		if ((cursorCommand == 'w' || cursorCommand == 72) && cursor > 1) // move up
		{
			cursor--;
		}
		if ((cursorCommand == 's' || cursorCommand == 80) && cursor < 6) // move down
		{
			cursor++;
		}
	} while (cursorCommand != 13); // if enter break while
	HANDLE color = GetStdHandle(STD_OUTPUT_HANDLE);
	SetConsoleTextAttribute(color, 0x0E);
	if (cursor == 1) // go to rule and easy game
	{
		system("cls");
		cout << "               " << "                    " << " .----------------. " << "                    " <<" .----------------. " << endl;
		cout << "               " << "                    " << "| .--------------. |" << "                    " << "| .--------------. |" << endl;
		cout << "               " << "                    " << "| | _____  _____ | |" << "                    " << "| |  _______     | |" << endl;
		cout << "               " << "                    " << "| ||_   _||_   _|| |" << "                    " << "| | |_   __ \\    | |" << endl;
		cout << "               " << "                    " << "| |  | | /\\ | |  | |" << "                    " << "| |   | |__) |   | |" << endl;
		cout << "               " << "    Move Control    " << "| |  | |/  \\| |  | |" << "                    " << "| |   |  __ /    | |" << "       Undo" << endl;
		cout << "               " << "                    " << "| |  |   /\\   |  | |" << "                    " << "| |  _| |  \\ \\_  | |" << endl;
		cout << "               " << "                    " << "| |  |__/  \\__|  | |" << "                    " << "| | |____| |___| | |" << endl;
		cout << "               " << "                    " << "| |              | |" << "                    " << "| |              | |" << endl;
		cout << "               " << "                    " << "| '--------------' |" << "                    " << "| '--------------' |" << endl;
		cout << "               " << "                    " << " '----------------' " << "                    " << " '----------------' " << endl;
		cout << "               " << " .----------------. " << " .----------------. " << " .----------------. " << " .----------------. " << "                    " << " .----------------. " << endl;
		cout << "               " << "| .--------------. |" << "| .--------------. |" << "| .--------------. |" << "| .--------------. |" << "                    " << "| .--------------. |" << endl;
		cout << "               " << "| |      __      | |" << "| |    _______   | |" << "| |  ________    | |" << "| |  _________   | |" << "                    " << "| | ____   ____  | |" << endl;
		cout << "               " << "| |     /  \\     | |" << "| |   /  ___  |  | |" << "| | |_   ___ `.  | |" << "| | |_   ___  |  | |" << "                    " << "| ||_  _| |_  _| | |" << endl;
		cout << "               " << "| |    / /\\ \\    | |" << "| |  |  (__ \\_|  | |" << "| |   | |   `. \\ | |" << "| |   | |_  \\_|  | |" << "                    " << "| |  \\ \\   / /   | |" << endl;
		cout << "               " << "| |   / ____ \\   | |" << "| |   '.___`-.   | |" << "| |   | |    | | | |" << "| |   |  _|      | |" << "   Move Suggestion  " << "| |   \\ \\ / /    | |" << "    GiftCode" << endl;
		cout << "               " << "| | _/ /    \\ \\_ | |" << "| |  |`\\____) |  | |" << "| |  _| |___.' / | |" << "| |  _| |_       | |" << "                    " << "| |    \\ ' /     | |" << endl;
		cout << "               " << "| ||____|  |____|| |" << "| |  |_______.'  | |" << "| | |________.'  | |" << "| | |_____|      | |" << "                    " << "| |     \\_/      | |" << endl;
		cout << "               " << "| |              | |" << "| |              | |" << "| |              | |" << "| |              | |" << "                    " << "| |              | |" << endl;
		cout << "               " << "| '--------------' |" << "| '--------------' |" << "| '--------------' |" << "| '--------------' |" << "                    " << "| '--------------' |" << endl;
		cout << "               " << " '----------------' " << " '----------------' " << " '----------------' " << " '----------------' " << "                    " << " '----------------' " << endl;
		SetConsoleTextAttribute(color, 0x07);
		system("pause");
		EasyGame();
		PlaySound(L"Music/sen.wav", NULL, SND_FILENAME | SND_LOOP | SND_ASYNC);
		return menuGame(); // back to menu game
	}
	if (cursor == 2)  // go to rule and hard game
	{
		system("cls");
		cout << "               " << "                    " << " .----------------. " << "                    " << " .----------------. " << endl;
		cout << "               " << "                    " << "| .--------------. |" << "                    " << "| .--------------. |" << endl;
		cout << "               " << "                    " << "| | _____  _____ | |" << "                    " << "| |  _______     | |" << endl;
		cout << "               " << "                    " << "| ||_   _||_   _|| |" << "                    " << "| | |_   __ \\    | |" << endl;
		cout << "               " << "                    " << "| |  | | /\\ | |  | |" << "                    " << "| |   | |__) |   | |" << endl;
		cout << "               " << "    Move Control    " << "| |  | |/  \\| |  | |" << "                    " << "| |   |  __ /    | |" << "       Undo" << endl;
		cout << "               " << "                    " << "| |  |   /\\   |  | |" << "                    " << "| |  _| |  \\ \\_  | |" << endl;
		cout << "               " << "                    " << "| |  |__/  \\__|  | |" << "                    " << "| | |____| |___| | |" << endl;
		cout << "               " << "                    " << "| |              | |" << "                    " << "| |              | |" << endl;
		cout << "               " << "                    " << "| '--------------' |" << "                    " << "| '--------------' |" << endl;
		cout << "               " << "                    " << " '----------------' " << "                    " << " '----------------' " << endl;
		cout << "               " << " .----------------. " << " .----------------. " << " .----------------. " << " .----------------. " << "                    " << " .----------------. " << endl;
		cout << "               " << "| .--------------. |" << "| .--------------. |" << "| .--------------. |" << "| .--------------. |" << "                    " << "| .--------------. |" << endl;
		cout << "               " << "| |      __      | |" << "| |    _______   | |" << "| |  ________    | |" << "| |  _________   | |" << "                    " << "| | ____   ____  | |" << endl;
		cout << "               " << "| |     /  \\     | |" << "| |   /  ___  |  | |" << "| | |_   ___ `.  | |" << "| | |_   ___  |  | |" << "                    " << "| ||_  _| |_  _| | |" << endl;
		cout << "               " << "| |    / /\\ \\    | |" << "| |  |  (__ \\_|  | |" << "| |   | |   `. \\ | |" << "| |   | |_  \\_|  | |" << "                    " << "| |  \\ \\   / /   | |" << endl;
		cout << "               " << "| |   / ____ \\   | |" << "| |   '.___`-.   | |" << "| |   | |    | | | |" << "| |   |  _|      | |" << "   Move Suggestion  " << "| |   \\ \\ / /    | |" << "    GiftCode" << endl;
		cout << "               " << "| | _/ /    \\ \\_ | |" << "| |  |`\\____) |  | |" << "| |  _| |___.' / | |" << "| |  _| |_       | |" << "                    " << "| |    \\ ' /     | |" << endl;
		cout << "               " << "| ||____|  |____|| |" << "| |  |_______.'  | |" << "| | |________.'  | |" << "| | |_____|      | |" << "                    " << "| |     \\_/      | |" << endl;
		cout << "               " << "| |              | |" << "| |              | |" << "| |              | |" << "| |              | |" << "                    " << "| |              | |" << endl;
		cout << "               " << "| '--------------' |" << "| '--------------' |" << "| '--------------' |" << "| '--------------' |" << "                    " << "| '--------------' |" << endl;
		cout << "               " << " '----------------' " << " '----------------' " << " '----------------' " << " '----------------' " << "                    " << " '----------------' " << endl;
		SetConsoleTextAttribute(color, 0x07);
		system("pause");
		HardGame();
		PlaySound(L"Music/sen.wav", NULL, SND_FILENAME | SND_LOOP | SND_ASYNC);
		return menuGame(); // back to menu 
	}
	if (cursor == 3)  // go to rule and hard game
	{
		system("cls");
		cout << "               " << "                    " << " .----------------. " << "                    " << " .----------------. " << endl;
		cout << "               " << "                    " << "| .--------------. |" << "                    " << "| .--------------. |" << endl;
		cout << "               " << "                    " << "| | _____  _____ | |" << "                    " << "| |  _______     | |" << endl;
		cout << "               " << "                    " << "| ||_   _||_   _|| |" << "                    " << "| | |_   __ \\    | |" << endl;
		cout << "               " << "                    " << "| |  | | /\\ | |  | |" << "                    " << "| |   | |__) |   | |" << endl;
		cout << "               " << "    Move Control    " << "| |  | |/  \\| |  | |" << "                    " << "| |   |  __ /    | |" << "       Undo" << endl;
		cout << "               " << "                    " << "| |  |   /\\   |  | |" << "                    " << "| |  _| |  \\ \\_  | |" << endl;
		cout << "               " << "                    " << "| |  |__/  \\__|  | |" << "                    " << "| | |____| |___| | |" << endl;
		cout << "               " << "                    " << "| |              | |" << "                    " << "| |              | |" << endl;
		cout << "               " << "                    " << "| '--------------' |" << "                    " << "| '--------------' |" << endl;
		cout << "               " << "                    " << " '----------------' " << "                    " << " '----------------' " << endl;
		cout << "               " << " .----------------. " << " .----------------. " << " .----------------. " << " .----------------. " << "                    " << " .----------------. " << endl;
		cout << "               " << "| .--------------. |" << "| .--------------. |" << "| .--------------. |" << "| .--------------. |" << "                    " << "| .--------------. |" << endl;
		cout << "               " << "| |      __      | |" << "| |    _______   | |" << "| |  ________    | |" << "| |  _________   | |" << "                    " << "| | ____   ____  | |" << endl;
		cout << "               " << "| |     /  \\     | |" << "| |   /  ___  |  | |" << "| | |_   ___ `.  | |" << "| | |_   ___  |  | |" << "                    " << "| ||_  _| |_  _| | |" << endl;
		cout << "               " << "| |    / /\\ \\    | |" << "| |  |  (__ \\_|  | |" << "| |   | |   `. \\ | |" << "| |   | |_  \\_|  | |" << "                    " << "| |  \\ \\   / /   | |" << endl;
		cout << "               " << "| |   / ____ \\   | |" << "| |   '.___`-.   | |" << "| |   | |    | | | |" << "| |   |  _|      | |" << "   Move Suggestion  " << "| |   \\ \\ / /    | |" << "    GiftCode" << endl;
		cout << "               " << "| | _/ /    \\ \\_ | |" << "| |  |`\\____) |  | |" << "| |  _| |___.' / | |" << "| |  _| |_       | |" << "                    " << "| |    \\ ' /     | |" << endl;
		cout << "               " << "| ||____|  |____|| |" << "| |  |_______.'  | |" << "| | |________.'  | |" << "| | |_____|      | |" << "                    " << "| |     \\_/      | |" << endl;
		cout << "               " << "| |              | |" << "| |              | |" << "| |              | |" << "| |              | |" << "                    " << "| |              | |" << endl;
		cout << "               " << "| '--------------' |" << "| '--------------' |" << "| '--------------' |" << "| '--------------' |" << "                    " << "| '--------------' |" << endl;
		cout << "               " << " '----------------' " << " '----------------' " << " '----------------' " << " '----------------' " << "                    " << " '----------------' " << endl;
		SetConsoleTextAttribute(color, 0x07);
		system("pause");
		FunGame();
		PlaySound(L"Music/sen.wav", NULL, SND_FILENAME | SND_LOOP | SND_ASYNC);
		return menuGame(); // back to menu
	}
	if (cursor == 4)  // go to rule and hard game
	{
		system("cls");
		cout << "               " << "                    " << " .----------------. " << "                    " << " .----------------. " << endl;
		cout << "               " << "                    " << "| .--------------. |" << "                    " << "| .--------------. |" << endl;
		cout << "               " << "                    " << "| | _____  _____ | |" << "                    " << "| |  _______     | |" << endl;
		cout << "               " << "                    " << "| ||_   _||_   _|| |" << "                    " << "| | |_   __ \\    | |" << endl;
		cout << "               " << "                    " << "| |  | | /\\ | |  | |" << "                    " << "| |   | |__) |   | |" << endl;
		cout << "               " << "    Move Control    " << "| |  | |/  \\| |  | |" << "                    " << "| |   |  __ /    | |" << "       Undo" << endl;
		cout << "               " << "                    " << "| |  |   /\\   |  | |" << "                    " << "| |  _| |  \\ \\_  | |" << endl;
		cout << "               " << "                    " << "| |  |__/  \\__|  | |" << "                    " << "| | |____| |___| | |" << endl;
		cout << "               " << "                    " << "| |              | |" << "                    " << "| |              | |" << endl;
		cout << "               " << "                    " << "| '--------------' |" << "                    " << "| '--------------' |" << endl;
		cout << "               " << "                    " << " '----------------' " << "                    " << " '----------------' " << endl;
		cout << "               " << " .----------------. " << " .----------------. " << " .----------------. " << " .----------------. " << "                    " << " .----------------. " << endl;
		cout << "               " << "| .--------------. |" << "| .--------------. |" << "| .--------------. |" << "| .--------------. |" << "                    " << "| .--------------. |" << endl;
		cout << "               " << "| |      __      | |" << "| |    _______   | |" << "| |  ________    | |" << "| |  _________   | |" << "                    " << "| | ____   ____  | |" << endl;
		cout << "               " << "| |     /  \\     | |" << "| |   /  ___  |  | |" << "| | |_   ___ `.  | |" << "| | |_   ___  |  | |" << "                    " << "| ||_  _| |_  _| | |" << endl;
		cout << "               " << "| |    / /\\ \\    | |" << "| |  |  (__ \\_|  | |" << "| |   | |   `. \\ | |" << "| |   | |_  \\_|  | |" << "                    " << "| |  \\ \\   / /   | |" << endl;
		cout << "               " << "| |   / ____ \\   | |" << "| |   '.___`-.   | |" << "| |   | |    | | | |" << "| |   |  _|      | |" << "   Move Suggestion  " << "| |   \\ \\ / /    | |" << "    GiftCode" << endl;
		cout << "               " << "| | _/ /    \\ \\_ | |" << "| |  |`\\____) |  | |" << "| |  _| |___.' / | |" << "| |  _| |_       | |" << "                    " << "| |    \\ ' /     | |" << endl;
		cout << "               " << "| ||____|  |____|| |" << "| |  |_______.'  | |" << "| | |________.'  | |" << "| | |_____|      | |" << "                    " << "| |     \\_/      | |" << endl;
		cout << "               " << "| |              | |" << "| |              | |" << "| |              | |" << "| |              | |" << "                    " << "| |              | |" << endl;
		cout << "               " << "| '--------------' |" << "| '--------------' |" << "| '--------------' |" << "| '--------------' |" << "                    " << "| '--------------' |" << endl;
		cout << "               " << " '----------------' " << " '----------------' " << " '----------------' " << " '----------------' " << "                    " << " '----------------' " << endl;
		SetConsoleTextAttribute(color, 0x07);
		system("pause");
		HiddenGame();
		PlaySound(L"Music/sen.wav", NULL, SND_FILENAME | SND_LOOP | SND_ASYNC);
		return menuGame(); // back to menu
	}
	if (cursor == 5) // show rank of player
	{
		SetConsoleTextAttribute(color, 0x01);
		system("cls");
		// print leaderboard
		cout << "                            " << " _      ______          _____  ______ _____  ____   ____          _____  _____  " << endl;
		cout << "                            " << "| |    |  ____|   /\\   |  __ \\|  ____|  __ \\|  _ \\ / __ \\   /\\   |  __ \\|  __ \\ " << endl;
		cout << "                            " << "| |    | |__     /  \\  | |  | | |__  | |__) | |_) | |  | | /  \\  | |__) | |  | |" << endl;
		cout << "                            " << "| |    |  __|   / /\\ \\ | |  | |  __| |  _  /|  _ <| |  | |/ /\\ \\ |  _  /| |  | |" << endl;
		cout << "                            " << "| |____| |____ / ____ \\| |__| | |____| | \\ \\| |_) | |__| / ____ \\| | \\ \\| |__| |" << endl;
		cout << "                            " << "|______|______/_/    \\_\\_____/|______|_|  \\_\\____/ \\____/_/    \\_\\_|  \\_\\_____/ " << endl;
		cout << endl; 
		cout << "                            " << " -------------------------------------------------------------------------------" << endl;
		cout << "                            " << "|                                                                               |" << endl;
		cout << "                            " << "|                                  ";
		SetConsoleTextAttribute(color, 0x06);
		cout << "Normal-Mode                                  ";
		SetConsoleTextAttribute(color, 0x01);
		cout <<	"|" << endl;
		cout << "                            " << "|                                                                               |" << endl;
		readFile("Text/normal.txt");
		cout << "                            " << "|                                                                               |" << endl;
		cout << "                            " << " ------------------------------------------------------------------------------- " << endl << endl;
		
		cout << "                            " << " -------------------------------------------------------------------------------" << endl;
		cout << "                            " << "|                                                                               |" << endl;
		cout << "                            " << "|                                   ";
		SetConsoleTextAttribute(color, 0x06);
		cout << "Hard-Mode                                   ";
		SetConsoleTextAttribute(color, 0x01);
		cout <<	"|" << endl;
		cout << "                            " << "|                                                                               |" << endl;
		readFile("Text/Hard.txt");
		cout << "                            " << "|                                                                               |" << endl;
		cout << "                            " << " ------------------------------------------------------------------------------- " << endl << endl;
		
		cout << "                            " << " -------------------------------------------------------------------------------" << endl;
		cout << "                            " << "|                                                                               |" << endl;
		cout << "                            " << "|                                    ";
		SetConsoleTextAttribute(color, 0x06);
		cout << "Fun-Mode                                   ";
		SetConsoleTextAttribute(color, 0x01);
		cout << "|" << endl;
		cout << "                            " << "|                                                                               |" << endl;
		readFile("Text/fungame.txt");
		cout << "                            " << "|                                                                               |" << endl;
		cout << "                            " << " ------------------------------------------------------------------------------- " << endl << endl;

		cout << "                            " << " -------------------------------------------------------------------------------" << endl;
		cout << "                            " << "|                                                                               |" << endl;
		cout << "                            " << "|                                  ";
		SetConsoleTextAttribute(color, 0x06);
		cout << "Hidden-Mode                                  ";
		SetConsoleTextAttribute(color, 0x01);
		cout << "|" << endl;
		cout << "                            " << "|                                                                               |" << endl;
		readFile("Text/hidden.txt");
		cout << "                            " << "|                                                                               |" << endl;
		cout << "                            " << " ------------------------------------------------------------------------------- " << endl << endl;

		system("pause");
		return menuGame();
	}
	if (cursor == 6) // exit
	{
		return;
	}
}

int main()
{
	PlaySound(L"Music/sen.wav", NULL, SND_FILENAME | SND_LOOP | SND_ASYNC);
	HANDLE color = GetStdHandle(STD_OUTPUT_HANDLE);
	SetConsoleTextAttribute(color, 0x0D);
	// print Maximize
	cout << "  __  __            _           _         " << endl;
	cout << " |  \\/  |          (_)         (_)        " << endl;
	cout << " | \\  / | __ ___  ___ _ __ ___  _ _______ " << endl;
	cout << " | |\\/| |/ _` \\ \\/ / | '_ ` _ \\| |_  / _ \\" << endl;
	cout << " | |  | | (_| |>  <| | | | | | | |/ /  __/" << endl;
	cout << " |_|  |_|\\__,_/_/\\_\\_|_| |_| |_|_/___\\___|" << endl << endl;
	system("pause");
	SetConsoleTextAttribute(color, 0x07);
	menuGame(); // call menu to start game
	system("cls");
	SetConsoleTextAttribute(color, 0x09);
	cout << "Thank for playing, Love you <333333" << endl; // when exit game
	SetConsoleTextAttribute(color, 0x07);

	return 0;
}